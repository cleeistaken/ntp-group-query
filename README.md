# NTP Group Query
Performs concurrent NTP queries and display timing statistics.

```shell
# Display help
> python3 ntp_group_query.py --help
usage: ntp_group_query.py [-h] [-s SERVER_LIST [SERVER_LIST ...] | -n] [-v]

options:
  -h, --help            show this help message and exit
  -s SERVER_LIST [SERVER_LIST ...], --server-list SERVER_LIST [SERVER_LIST ...]
  -n, --nist
  -v, --verbose
```

```shell
# Query all the NIST NTP servers
> python3 ntp_group_query.py --nist
+-----------------------+------------+---------+----------------------+---------------------+----------------------------+----------------------------+
| Remote                |   Refid    | Stratum | Delay                | Offset              | TX Time                    | Adjusted Time              |
+-----------------------+------------+---------+----------------------+---------------------+----------------------------+----------------------------+
| time-a-g.nist.gov     | 1313428308 |    1    | 0.04694938659667969  | 0.09149789810180664 | 2023-09-13 20:19:37.203544 | 2023-09-13 20:19:37.180068 |
| time-b-g.nist.gov     | 1313428308 |    1    | 0.04859161376953125  | 0.09133005142211914 | 2023-09-13 20:19:37.200627 | 2023-09-13 20:19:37.176330 |
| time-c-g.nist.gov     | 1313428308 |    1    | 0.05004549026489258  | 0.09274077415466309 | 2023-09-13 20:19:37.206828 | 2023-09-13 20:19:37.181803 |
| time-d-g.nist.gov     | 1313428308 |    1    | 0.043309688568115234 | 0.09030604362487793 | 2023-09-13 20:19:37.607063 | 2023-09-13 20:19:37.585407 |
| time-e-g.nist.gov     | 1313428308 |    1    | 0.04549980163574219  | 0.0912923812866211  | 2023-09-13 20:19:38.472777 | 2023-09-13 20:19:38.450027 |
| time-a-wwv.nist.gov   | 1313428308 |    1    | 0.043879032135009766 | 0.08900094032287598 | 2023-09-13 20:19:37.224095 | 2023-09-13 20:19:37.202154 |
| time-b-wwv.nist.gov   | 1313428308 |    1    | 0.039298057556152344 | 0.08648395538330078 | 2023-09-13 20:19:38.245019 | 2023-09-13 20:19:38.225368 |
| time-c-wwv.nist.gov   | 1313428308 |    1    | 0.0381011962890625   | 0.08602190017700195 | 2023-09-13 20:19:37.256466 | 2023-09-13 20:19:37.237414 |
| time-d-wwv.nist.gov   | 1313428308 |    1    | 0.03914833068847656  | 0.08731603622436523 | 2023-09-13 20:19:38.503063 | 2023-09-13 20:19:38.483487 |
| time-e-wwv.nist.gov   | 1313428308 |    1    | 0.039853572845458984 | 0.0873873233795166  | 2023-09-13 20:19:37.632042 | 2023-09-13 20:19:37.612114 |
| time-a-b.nist.gov     | 1313428308 |    1    | 0.037680625915527344 | 0.08700704574584961 | 2023-09-13 20:19:37.251629 | 2023-09-13 20:19:37.232787 |
| time-b-b.nist.gov     | 1313428308 |    1    | 0.0370326042175293   | 0.08684992790222168 | 2023-09-13 20:19:37.254992 | 2023-09-13 20:19:37.236474 |
| time-c-b.nist.gov     | 1313428308 |    1    | 0.0368046760559082   | 0.0867769718170166  | 2023-09-13 20:19:37.948914 | 2023-09-13 20:19:37.930510 |
| time-d-b.nist.gov     | 1313428308 |    1    | 0.04013347625732422  | 0.08813619613647461 | 2023-09-13 20:19:37.599210 | 2023-09-13 20:19:37.579142 |
| time-e-b.nist.gov     | 1313428308 |    1    | 0.040430545806884766 | 0.08869576454162598 | 2023-09-13 20:19:37.226718 | 2023-09-13 20:19:37.206502 |
| utcnist.colorado.edu  | 1313428308 |    1    | 0.0590519905090332   | 0.09791016578674316 | 2023-09-13 20:19:38.053626 | 2023-09-13 20:19:38.024098 |
| utcnist2.colorado.edu | 1313428308 |    1    | 0.06486225128173828  | 0.1011810302734375  | 2023-09-13 20:19:39.567681 | 2023-09-13 20:19:39.535248 |
| utcnist3.colorado.edu | 1313428308 |    1    | 0.057450294494628906 | 0.09797334671020508 | 2023-09-13 20:19:37.999726 | 2023-09-13 20:19:37.971001 |
+-----------------------+------------+---------+----------------------+---------------------+----------------------------+----------------------------+
```

```shell
# Query specific NTP servers
>python3 ntp_group_query.py --server-list time-a-g.nist.gov  time-a-wwv.nist.gov  time-a-b.nist.gov
+---------------------+------------+---------+---------------------+---------------------+----------------------------+----------------------------+
| Remote              |   Refid    | Stratum | Delay               | Offset              | TX Time                    | Adjusted Time              |
+---------------------+------------+---------+---------------------+---------------------+----------------------------+----------------------------+
| time-a-g.nist.gov   | 1313428308 |    1    | 0.0536956787109375  | 0.10524654388427734 | 2023-09-13 20:22:36.723159 | 2023-09-13 20:22:36.696310 |
| time-a-wwv.nist.gov | 1313428308 |    1    | 0.04201841354370117 | 0.09946608543395996 | 2023-09-13 20:22:36.711389 | 2023-09-13 20:22:36.690378 |
| time-a-b.nist.gov   | 1313428308 |    1    | 0.03734254837036133 | 0.09840273857116699 | 2023-09-13 20:22:36.708046 | 2023-09-13 20:22:36.689374 |
+---------------------+------------+---------+---------------------+---------------------+----------------------------+----------------------------+
```

```shell
# Query specific NTP servers with verbose output
>python3 ntp_group_query.py --server-list time-a-g.nist.gov  time-a-wwv.nist.gov  time-a-b.nist.gov --verbose
(MainThread) creating thread for server time-a-g.nist.gov
(MainThread) creating thread for server time-a-wwv.nist.gov
(MainThread) creating thread for server time-a-b.nist.gov
(Thread-1 ) running thread to time-a-g.nist.gov
(Thread-2 ) running thread to time-a-wwv.nist.gov
(Thread-3 ) running thread to time-a-b.nist.gov
(MainThread) joining thread to time-a-g.nist.gov with timeout 3.0 seconds
(MainThread) joining thread to time-a-wwv.nist.gov with timeout 3.0 seconds
(MainThread) joining thread to time-a-b.nist.gov with timeout 3.0 seconds
+---------------------+------------+---------+----------------------+---------------------+----------------------------+----------------------------+
| Remote              |   Refid    | Stratum | Delay                | Offset              | TX Time                    | Adjusted Time              |
+---------------------+------------+---------+----------------------+---------------------+----------------------------+----------------------------+
| time-a-g.nist.gov   | 1313428308 |    1    | 0.04676103591918945  | 0.11472153663635254 | 2023-09-13 20:24:34.944141 | 2023-09-13 20:24:34.920759 |
| time-a-wwv.nist.gov | 1313428308 |    1    | 0.04288816452026367  | 0.11241745948791504 | 2023-09-13 20:24:34.939818 | 2023-09-13 20:24:34.918372 |
| time-a-b.nist.gov   | 1313428308 |    1    | 0.040697574615478516 | 0.11197304725646973 | 2023-09-13 20:24:34.938460 | 2023-09-13 20:24:34.918110 |
+---------------------+------------+---------+----------------------+---------------------+----------------------------+----------------------------+
```